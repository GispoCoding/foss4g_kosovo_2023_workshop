<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="6 Exercise 4: Creating Lookup Tables and Utilizing Lookup Values | Building an Enterprise GIS Workflow with QGIS and PostGIS" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Ltd." />

<meta name="date" content="2023-06-16" />


<meta name="description" content="6 Exercise 4: Creating Lookup Tables and Utilizing Lookup Values | Building an Enterprise GIS Workflow with QGIS and PostGIS">

<title>6 Exercise 4: Creating Lookup Tables and Utilizing Lookup Values | Building an Enterprise GIS Workflow with QGIS and PostGIS</title>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Building an Enterprise GIS Workflow with QGIS and PostGIS</h1></div>
<div class="abstract-sidebar"><p>Workshop delivered in FOSS4G Prizren 2023.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li><a href="index.html#welcome"><span class="toc-section-number">1</span> Welcome!</a></li>
<li><a href="index.html#reading-instructions"><span class="toc-section-number">2</span> Reading instructions</a>
<ul>
<li><a href="index.html#software-in-question-and-further-information"><span class="toc-section-number">2.1</span> Software in question and further information</a></li>
<li><a href="index.html#errors"><span class="toc-section-number">2.2</span> Errors</a></li>
<li><a href="index.html#license-and-user-rights"><span class="toc-section-number">2.3</span> License and user rights</a></li>
</ul></li>
<li><a href="01_part_1.html#exercise-1-database-creation-and-integration"><span class="toc-section-number">3</span> Exercise 1: Database Creation and Integration</a>
<ul>
<li><a href="01_part_1.html#installation-and-configuration"><span class="toc-section-number">3.0.1</span> Installation and Configuration</a></li>
<li><a href="01_part_1.html#creating-a-spatial-database"><span class="toc-section-number">3.0.2</span> Creating a Spatial Database</a></li>
<li><a href="01_part_1.html#integrating-the-database-with-qgis"><span class="toc-section-number">3.0.3</span> Integrating the Database with QGIS</a></li>
</ul></li>
<li><a href="02_part_2.html#data-model-design-and-creation"><span class="toc-section-number">4</span> Data Model Design and Creation</a>
<ul>
<li><a href="02_part_2.html#analyzing-requirements-and-designing-the-data-schema"><span class="toc-section-number">4.1</span> Analyzing Requirements and Designing the Data Schema</a></li>
<li><a href="02_part_2.html#creating-the-necessary-tables"><span class="toc-section-number">4.2</span> Creating the Necessary Tables</a></li>
<li><a href="02_part_2.html#section"><span class="toc-section-number">4.3</span> </a></li>
</ul></li>
<li><a href="03_part_3.html#exercise-3-creating-and-editing-data-in-qgis"><span class="toc-section-number">5</span> Exercise 3: Creating and Editing Data in QGIS</a>
<ul>
<li><a href="03_part_3.html#loading-the-data-and-creating-new-features"><span class="toc-section-number">5.1</span> Loading the Data and Creating New Features</a></li>
<li><a href="03_part_3.html#editing-existing-features"><span class="toc-section-number">5.2</span> Editing Existing Features</a></li>
<li><a href="03_part_3.html#deleting-unnecessary-features"><span class="toc-section-number">5.3</span> Deleting Unnecessary Features</a></li>
</ul></li>
<li><a href="04_part_4.html#exercise-4-creating-lookup-tables-and-utilizing-lookup-values"><span class="toc-section-number">6</span> Exercise 4: Creating Lookup Tables and Utilizing Lookup Values</a>
<ul>
<li><a href="04_part_4.html#identifying-attributes-requiring-predefined-values"><span class="toc-section-number">6.1</span> Identifying Attributes Requiring Predefined Values</a></li>
<li><a href="04_part_4.html#creating-an-enumeration-table"><span class="toc-section-number">6.2</span> Creating an Enumeration Table</a></li>
<li><a href="04_part_4.html#establishing-relationships-with-the-main-data-table"><span class="toc-section-number">6.3</span> Establishing Relationships with the Main Data Table</a></li>
<li><a href="04_part_4.html#populating-the-enumeration-table"><span class="toc-section-number">6.4</span> Populating the Enumeration Table</a></li>
<li><a href="04_part_4.html#using-the-enumeration-table-in-qgis"><span class="toc-section-number">6.5</span> Using the Enumeration Table in QGIS</a></li>
</ul></li>
<li><a href="05_part_5.html#exercise-5-workflow-optimization-and-data-entry-forms"><span class="toc-section-number">7</span> Exercise 5: Workflow Optimization and Data Entry Forms</a>
<ul>
<li><a href="05_part_5.html#designing-a-data-entry-form"><span class="toc-section-number">7.1</span> Designing a Data Entry Form</a></li>
<li><a href="05_part_5.html#customizing-form-layout-and-behavior"><span class="toc-section-number">7.2</span> Customizing Form Layout and Behavior</a></li>
<li><a href="05_part_5.html#enabling-and-configuring-form-widgets"><span class="toc-section-number">7.3</span> Enabling and Configuring Form Widgets</a></li>
<li><a href="05_part_5.html#testing-the-form-and-evaluating-efficiency"><span class="toc-section-number">7.4</span> Testing the Form and Evaluating Efficiency</a></li>
</ul></li>
<li><a href="06_part_6.html#exercise-6-automating-data-entry-with-triggers-and-getting-insights-from-the-database"><span class="toc-section-number">8</span> Exercise 6: Automating Data Entry with Triggers and Getting Insights from the Database</a>
<ul>
<li><a href="06_part_6.html#creating-triggers-for-data-entry-automation"><span class="toc-section-number">8.1</span> Creating Triggers for Data Entry Automation</a></li>
<li><a href="06_part_6.html#configuring-triggers"><span class="toc-section-number">8.2</span> Configuring Triggers</a></li>
<li><a href="06_part_6.html#testing-triggers"><span class="toc-section-number">8.3</span> Testing Triggers</a></li>
<li><a href="06_part_6.html#performing-spatial-queries-and-analysis"><span class="toc-section-number">8.4</span> Performing Spatial Queries and Analysis</a></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="exercise-4-creating-lookup-tables-and-utilizing-lookup-values" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Exercise 4: Creating Lookup Tables and Utilizing Lookup Values</h1>
<p>Now it’s time for you to think about data integrity! You have noticed that maintaining consistent and accurate data can sometimes be a challenge. Inconsistent values, misspellings, or different variations of the same category can lead to data quality issues and hinder effective analysis. This is where lookup tables come in, providing a solution to enhance data integrity and improve data entry workflows.</p>
<div id="identifying-attributes-requiring-predefined-values" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Identifying Attributes Requiring Predefined Values</h2>
<p>By identifying specific attributes that benefit from predefined values, we can ensure consistency and enforce data integrity throughout our database.</p>
<p>Looking at the tables we have created, we can identify certain attributes that require predefined values.</p>
<table>
<thead>
<tr class="header">
<th><strong>Table</strong></th>
<th><strong>Attribute</strong></th>
<th><strong>Predefined Values</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Dwellings</td>
<td>Occupancy Status</td>
<td>Occupied, Vacant, Under Construction</td>
</tr>
<tr class="even">
<td>Water Distribution Points</td>
<td>Operational Status</td>
<td>Active, Temporarily Closed</td>
</tr>
<tr class="odd">
<td>Educational Facilities</td>
<td>Facility Type</td>
<td>School, Vocational Training Center</td>
</tr>
</tbody>
</table>
</div>
<div id="creating-an-enumeration-table" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Creating an Enumeration Table</h2>
<div class="code-box">
<p>– Lookup table for Dwellings’ Occupancy Status CREATE TABLE dwellings_occupancy_status ( id INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY, status VARCHAR(50) NOT NULL );</p>
<p>– Lookup table for Water Distribution Points’ Operational Status CREATE TABLE water_distribution_operational_status ( id INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY, status VARCHAR(50) NOT NULL );</p>
<p>– Lookup table for Educational Facilities’ Facility Type CREATE TABLE educational_facilities_facility_type ( id INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY, type VARCHAR(50) NOT NULL );</p>
</div>
<p>Add foreign keys to the main tables. foreign keys establish a relationship between tables by</p>
</div>
<div id="establishing-relationships-with-the-main-data-table" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Establishing Relationships with the Main Data Table</h2>
<p>referencing the primary key of one table from another table, ensuring referential integrity and maintaining data consistency.</p>
<div class="code-box">
<p>– Add foreign key to Dwellings table for Occupancy Status ALTER TABLE dwellings ADD COLUMN occupancy_status_id INTEGER REFERENCES dwellings_occupancy_status(id);</p>
<p>– Add foreign key to Water Distribution Points table for Operational Status ALTER TABLE water_distribution_points ADD COLUMN operational_status_id INTEGER REFERENCES water_distribution_operational_status(id);</p>
<p>– Add foreign key to Educational Facilities table for Facility Type ALTER TABLE educational_facilities ADD COLUMN facility_type_id INTEGER REFERENCES educational_facilities_facility_type(id);</p>
</div>
</div>
<div id="populating-the-enumeration-table" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Populating the Enumeration Table</h2>
<p>Now we will populate the lookup tables with predefined values. You can also edit these afterwords in QGIS.</p>
<div class="code-box">
<p>– Populate Dwellings’ Occupancy Status lookup table INSERT INTO dwellings_occupancy_status (status) VALUES (‘Occupied’), (‘Vacant’), (‘Under Construction’);</p>
<p>– Populate Water Distribution Points’ Operational Status lookup table INSERT INTO water_distribution_operational_status (status) VALUES (‘Active’), (‘Temporarily Closed’);</p>
<p>– Populate Educational Facilities’ Facility Type lookup table INSERT INTO educational_facilities_facility_type (type) VALUES (‘School’), (‘Vocational Training Center’);</p>
</div>
</div>
<div id="using-the-enumeration-table-in-qgis" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Using the Enumeration Table in QGIS</h2>
<p>You can further customize and edit these tables in QGIS. To load them into QGIS, simply double-click the tables from the browser panel, and they will be added to your project. You can visualize and explore the data using the attribute table view in QGIS. In the next phase, we will establish connections between these tables and the main tables, laying the foundation for ensuring data integrity and maintaining consistency in our database.</p>

</div>
</div>
<p style="text-align: center;">
<a href="03_part_3.html"><button class="btn btn-default">Previous</button></a>
<a href="05_part_5.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Building an Enterprise GIS Workflow with QGIS and PostGIS</h5>
<span class="footer-version">v2023-06-16</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Ltd.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3. krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>

</body>
</html>
